<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Single Widget Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-section h2 {
            margin-top: 0;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Single Widget Test Page</h1>
        
        <div class="test-section">
            <h2>Single Widget Preview</h2>
            <div class="promptreviews-widget" data-widget="test-single-widget" data-widget-type="single"></div>
        </div>
    </div>

    <!-- Load the single widget script -->
    <script src="widget-embed.js" async></script>
    
    <script>
        // Test the widget after a delay to ensure it's loaded
        setTimeout(() => {
            console.log('Testing single widget...');
            
            if (window.PromptReviews && window.PromptReviews.renderSingleWidget) {
                console.log('Single widget render function found!');
                
                const container = document.querySelector('[data-widget-type="single"]');
                if (container) {
                    const testData = {
                        reviews: [
                            {
                                id: '1',
                                review_content: 'This is an amazing product! I love how easy it is to use and the results are fantastic.',
                                first_name: 'John',
                                last_name: 'Doe',
                                reviewer_role: 'Product Manager',
                                platform: 'Google',
                                created_at: '2024-01-15T10:30:00Z',
                                star_rating: 5
                            },
                            {
                                id: '2',
                                review_content: 'Excellent service and great value for money. Highly recommend!',
                                first_name: 'Jane',
                                last_name: 'Smith',
                                reviewer_role: 'Marketing Director',
                                platform: 'Yelp',
                                created_at: '2024-01-10T14:20:00Z',
                                star_rating: 5
                            }
                        ],
                        design: {
                            bgColor: '#ffffff',
                            textColor: '#22223b',
                            accentColor: '#6a5acd',
                            borderColor: '#cccccc',
                            borderWidth: 2,
                            borderRadius: 16,
                            shadowIntensity: 0.2,
                            shadowColor: '#222222',
                            lineSpacing: 1.75,
                            attributionFontSize: 16,
                            nameTextColor: '#111111',
                            roleTextColor: '#666666',
                            font: 'Inter',
                            showQuotes: true,
                            showRelativeDate: false,
                            showSubmitReviewButton: true,
                            autoAdvance: false,
                            slideshowSpeed: 4
                        },
                        businessSlug: 'demo-business'
                    };
                    
                    window.PromptReviews.renderSingleWidget(container, testData);
                    console.log('Single widget rendered successfully!');
                } else {
                    console.error('Container not found');
                }
            } else {
                console.error('Single widget render function not found');
            }
        }, 1000);
    </script>
</body>
</html> 