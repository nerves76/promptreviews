<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi Widget Transparency Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            min-height: 100vh;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
        }
        .test-title {
            color: white;
            font-size: 24px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .test-description {
            color: white;
            margin-bottom: 20px;
            opacity: 0.9;
        }
        .widget-container {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 style="color: white; text-align: center; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
            Multi Widget Transparency Test
        </h1>
        
        <div class="test-section">
            <div class="test-title">Test 1: Solid Background (Opacity: 1.0)</div>
            <div class="test-description">Widget with solid background - should be fully opaque</div>
            <div class="widget-container">
                <div id="test-solid-container"></div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 2: Semi-Transparent Background (Opacity: 0.5)</div>
            <div class="test-description">Widget with 50% transparency - should show background through</div>
            <div class="widget-container">
                <div id="test-transparent-container"></div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 3: Very Transparent Background (Opacity: 0.2)</div>
            <div class="test-description">Widget with 20% opacity - should be very transparent</div>
            <div class="widget-container">
                <div id="test-very-transparent-container"></div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 4: Direct CSS Test (Inline Styles)</div>
            <div class="test-description">Direct test of transparency using inline styles to verify CSS is working</div>
            <div class="widget-container">
                <div style="background: rgba(255, 255, 255, 0.2); padding: 20px; border-radius: 16px; border: 2px solid #cccccc; min-height: 200px; display: flex; align-items: center; justify-content: center;">
                    <div style="text-align: center; color: #22223b;">
                        <h3>Direct CSS Test</h3>
                        <p>This div has <code>background: rgba(255, 255, 255, 0.2)</code></p>
                        <p>You should see the gradient background through this white box.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 5: Direct HTML Test (Widget Structure)</div>
            <div class="test-description">Testing the exact widget HTML structure with inline styles</div>
            <div class="widget-container">
                <div class="pr-multi-widget">
                    <div class="pr-widget-inner">
                        <div class="swiper">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <div class="pr-review-card" style="background: rgba(255, 255, 255, 0.2) !important; border: 2px solid #cccccc; border-radius: 16px; padding: 1.5rem 2rem; min-height: 350px; display: flex; flex-direction: column; gap: 0.75rem; width: 100%; max-width: 420px; margin: 0 auto; box-sizing: border-box; text-align: center;">
                                        <div class="stars-row" style="display: flex; gap: 0.25rem; margin-bottom: 0.5rem; justify-content: center;">
                                            <span style="color: gold;">★★★★★</span>
                                        </div>
                                        <div class="review-content" style="flex-grow: 1; display: flex; flex-direction: column; gap: 0.25rem; align-items: center; justify-content: center;">
                                            <div class="review-text" style="font-size: 1rem; line-height: 1.4; color: #22223b; margin: 0; text-align: center;">
                                                This is a direct HTML test with the exact widget structure and rgba(255,255,255,0.2) background.
                                            </div>
                                        </div>
                                        <div class="reviewer-details" style="margin-top: auto; padding-top: 1rem; border-top: 1px solid #cccccc;">
                                            <div class="reviewer-name" style="font-weight: 600; font-size: 1rem; color: #1a237e; margin-bottom: 0.25rem;">Test User</div>
                                            <div class="reviewer-role" style="font-size: 0.875rem; color: #6b7280;">Customer</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load the widget script -->
    <script src="widget-embed.js?v=1750460700"></script>
    
    <script>
        // Mock data for testing
        const mockData = {
            testSolid: {
                id: 'test-solid',
                widgetId: 'test-solid',
                reviews: [
                    {
                        id: '1',
                        review_content: 'This is a test review with solid background. The widget should be fully opaque.',
                        first_name: 'John',
                        last_name: 'Doe',
                        reviewer_role: 'Customer',
                        platform: 'Google',
                        created_at: '2024-01-15T10:30:00Z',
                        star_rating: 5
                    },
                    {
                        id: '2',
                        review_content: 'Another test review to show multiple cards in the carousel.',
                        first_name: 'Jane',
                        last_name: 'Smith',
                        reviewer_role: 'Client',
                        platform: 'Yelp',
                        created_at: '2024-01-14T15:45:00Z',
                        star_rating: 4
                    }
                ],
                design: {
                    bgType: 'solid',
                    bgColor: '#FDFBF2',
                    bgOpacity: 1.0,
                    textColor: '#22223b',
                    accentColor: 'slateblue',
                    bodyTextColor: '#22223b',
                    nameTextColor: '#1a237e',
                    roleTextColor: '#6b7280',
                    borderColor: '#cccccc',
                    borderWidth: 2,
                    borderRadius: 16,
                    font: 'Inter',
                    shadow: true,
                    border: true,
                    lineSpacing: 1.4,
                    shadowIntensity: 0.2,
                    shadowColor: '#222222',
                    showQuotes: false,
                    showRelativeDate: false,
                    showSubmitReviewButton: false
                }
            },
            testTransparent: {
                id: 'test-transparent',
                widgetId: 'test-transparent',
                reviews: [
                    {
                        id: '3',
                        review_content: 'This is a test review with 50% transparency. You should see the background through the widget.',
                        first_name: 'Alice',
                        last_name: 'Johnson',
                        reviewer_role: 'Customer',
                        platform: 'Google',
                        created_at: '2024-01-13T09:20:00Z',
                        star_rating: 5
                    }
                ],
                design: {
                    bgType: 'transparent',
                    bgColor: '#FDFBF2',
                    bgOpacity: 0.5,
                    textColor: '#22223b',
                    accentColor: 'slateblue',
                    bodyTextColor: '#22223b',
                    nameTextColor: '#1a237e',
                    roleTextColor: '#6b7280',
                    borderColor: '#cccccc',
                    borderWidth: 2,
                    borderRadius: 16,
                    font: 'Inter',
                    shadow: true,
                    border: true,
                    lineSpacing: 1.4,
                    shadowIntensity: 0.2,
                    shadowColor: '#222222',
                    showQuotes: false,
                    showRelativeDate: false,
                    showSubmitReviewButton: false
                }
            },
            testVeryTransparent: {
                id: 'test-very-transparent',
                widgetId: 'test-very-transparent',
                reviews: [
                    {
                        id: '4',
                        review_content: 'This is a test review with 20% transparency. The widget should be very transparent.',
                        first_name: 'Bob',
                        last_name: 'Wilson',
                        reviewer_role: 'Client',
                        platform: 'Yelp',
                        created_at: '2024-01-12T14:15:00Z',
                        star_rating: 4
                    }
                ],
                design: {
                    bgType: 'transparent',
                    bgColor: '#FDFBF2',
                    bgOpacity: 0.2,
                    textColor: '#22223b',
                    accentColor: 'slateblue',
                    bodyTextColor: '#22223b',
                    nameTextColor: '#1a237e',
                    roleTextColor: '#6b7280',
                    borderColor: '#cccccc',
                    borderWidth: 2,
                    borderRadius: 16,
                    font: 'Inter',
                    shadow: true,
                    border: true,
                    lineSpacing: 1.4,
                    shadowIntensity: 0.2,
                    shadowColor: '#222222',
                    showQuotes: false,
                    showRelativeDate: false,
                    showSubmitReviewButton: false
                }
            }
        };

        // Wait for the widget script to load
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for the script to initialize
            setTimeout(() => {
                if (window.PromptReviews && window.PromptReviews.renderMultiWidget) {
                    console.log('🎯 Test: Rendering widgets with transparency...');
                    
                    // Render each test widget directly
                    const testCases = [
                        { containerId: 'test-solid-container', data: mockData.testSolid },
                        { containerId: 'test-transparent-container', data: mockData.testTransparent },
                        { containerId: 'test-very-transparent-container', data: mockData.testVeryTransparent }
                    ];
                    
                    testCases.forEach(testCase => {
                        const container = document.getElementById(testCase.containerId);
                        if (container) {
                            console.log(`🎯 Test: Rendering ${testCase.data.widgetId} with bgOpacity: ${testCase.data.design.bgOpacity}`);
                            console.log(`🎯 Test: Background color will be: ${testCase.data.design.bgColor} with opacity ${testCase.data.design.bgOpacity}`);
                            window.PromptReviews.renderMultiWidget(container, testCase.data);
                        }
                    });
                } else {
                    console.error('❌ Test: PromptReviews not available');
                    console.log('Available on window:', Object.keys(window));
                }
            }, 1000);
        });
    </script>
</body>
</html> 